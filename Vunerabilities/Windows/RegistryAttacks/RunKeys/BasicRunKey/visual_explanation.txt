# Basic Run Key Attack - Simple Visual Explanation

## ğŸ¯ The Attack in Simple Terms

```
STEP 1: Attacker gets into your computer
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Attacker  â”‚ â”€â”€â”€â”€â–º Your Computer
        â”‚   gains     â”‚
        â”‚   access    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 2: Attacker puts bad program on your computer
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   malware   â”‚ â”€â”€â”€â”€â–º C:\malware.exe
        â”‚   .exe      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 3: Attacker changes Windows settings (Registry)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        WINDOWS REGISTRY             â”‚
        â”‚                                     â”‚
        â”‚   Run Key:                          â”‚
        â”‚   "WindowsUpdate" = "C:\malware.exe" â”‚
        â”‚                                     â”‚
        â”‚   (Looks like legitimate Windows    â”‚
        â”‚    Update, but points to malware)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 4: You log into your computer
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   You       â”‚ â”€â”€â”€â”€â–º Login to Windows
        â”‚   login     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 5: Windows automatically runs the bad program
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Windows   â”‚ â”€â”€â”€â”€â–º Runs malware.exe
        â”‚   checks    â”‚       automatically!
        â”‚   Run keys  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 6: Bad program does bad things
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   malware   â”‚ â”€â”€â”€â”€â–º Steals data,
        â”‚   .exe      â”‚       creates backdoor,
        â”‚   runs      â”‚       etc.
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” What Our Demo Program Does

```
OUR SAFE DEMO:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    run_key_manipulation.cpp                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. Shows you how Run keys work                                 â”‚
â”‚  2. Adds a SAFE entry:                                          â”‚
â”‚     "WindowsUpdate" = "C:\Windows\System32\notepad.exe"        â”‚
â”‚  3. Shows you the entry was added                               â”‚
â”‚  4. REMOVES the entry (cleanup)                                 â”‚
â”‚  5. Shows you it's gone                                         â”‚
â”‚                                                                 â”‚
â”‚  âœ… SAFE: Uses notepad.exe (harmless)                          â”‚
â”‚  âœ… EDUCATIONAL: Shows the attack mechanism                     â”‚
â”‚  âœ… CLEAN: Removes the entry when done                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš¨ Real Attack vs Our Demo

```
REAL ATTACK:                    OUR DEMO:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   malware.exe   â”‚            â”‚   notepad.exe   â”‚
â”‚   - Steals data â”‚            â”‚   - Opens       â”‚
â”‚   - Creates     â”‚            â”‚     notepad     â”‚
â”‚     backdoor    â”‚            â”‚   - Harmless    â”‚
â”‚   - Escalates   â”‚            â”‚   - Educational â”‚
â”‚     privileges  â”‚            â”‚   - Safe        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Registry Entry Comparison

```
BEFORE (Clean System):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   HKCU\...\Run                      â”‚
â”‚   â”œâ”€â”€ "Chrome" = "C:\chrome.exe"    â”‚
â”‚   â””â”€â”€ "Spotify" = "C:\spotify.exe"  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AFTER ATTACK (Malicious Entry Added):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   HKCU\...\Run                      â”‚
â”‚   â”œâ”€â”€ "Chrome" = "C:\chrome.exe"    â”‚
â”‚   â”œâ”€â”€ "Spotify" = "C:\spotify.exe"  â”‚
â”‚   â””â”€â”€ "WindowsUpdate" = "C:\malware.exe" â† BAD!
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AFTER OUR DEMO (Entry Removed):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   HKCU\...\Run                      â”‚
â”‚   â”œâ”€â”€ "Chrome" = "C:\chrome.exe"    â”‚
â”‚   â””â”€â”€ "Spotify" = "C:\spotify.exe"  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ›¡ï¸ How to Protect Yourself

```
PROTECTION METHODS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  1. ğŸ” REGULAR CHECKS                                           â”‚
â”‚     - Check Run keys regularly                                  â”‚
â”‚     - Look for suspicious entries                               â”‚
â”‚     - Verify legitimate programs                                â”‚
â”‚                                                                 â”‚
â”‚  2. ğŸ›¡ï¸ SECURITY SOFTWARE                                        â”‚
â”‚     - Use antivirus software                                    â”‚
â”‚     - Enable real-time protection                               â”‚
â”‚     - Keep software updated                                     â”‚
â”‚                                                                 â”‚
â”‚  3. ğŸ”’ PERMISSIONS                                              â”‚
â”‚     - Don't run as administrator unnecessarily                  â”‚
â”‚     - Use standard user account                                 â”‚
â”‚     - Be careful with downloads                                 â”‚
â”‚                                                                 â”‚
â”‚  4. ğŸ“š EDUCATION                                                â”‚
â”‚     - Learn about these attacks                                 â”‚
â”‚     - Be suspicious of emails                                   â”‚
â”‚     - Don't click unknown links                                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ Key Learning Points

```
WHAT YOU LEARNED:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  âœ… How Windows Run keys work                                   â”‚
â”‚  âœ… How attackers use them for persistence                      â”‚
â”‚  âœ… How to detect malicious entries                             â”‚
â”‚  âœ… How to protect against this attack                          â”‚
â”‚  âœ… How to safely demonstrate the attack                        â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¯ MAIN CONCEPT:                                               â”‚
â”‚     Windows automatically runs programs listed in Run keys     â”‚
â”‚     when you log in. Attackers exploit this to run malware.    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
